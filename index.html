<!doctype html>
<html lang="nl">

<head>
  <meta charset="utf-8" />
  <title>Poker Split</title>
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    html {
      background: #ffffff;
      height: 100%;
    }

    body {
      background: #ffffff;
      margin: 0;
      font-family: -apple-system, system-ui, sans-serif;
      min-height: 100%;
    }

    @media (prefers-color-scheme: dark) {
      html {
        background: #000000;
      }

      body {
        background: #000000;
        color: #f5f5f7;
      }
    }
  </style>

  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18",
        "react-dom/client": "https://esm.sh/react-dom@18/client",
        "react/jsx-runtime": "https://esm.sh/react@18/jsx-runtime"
      }
    }
    </script>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>

  <!-- Service Worker -->
  <script>
    // Only register Service Worker on the live GitHub Pages site
    // This allows you to test on localhost AND on your phone (via LAN) without caching issues
    if ('serviceWorker' in navigator && window.location.hostname.includes('github.io')) {
      navigator.serviceWorker.register('./sw.js')
        .then(() => console.log('SW Registered'))
        .catch(e => console.log('SW Error:', e));
    } else {
      // Optional: If on localhost, force unregister any existing SW
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function (registrations) {
          for (let registration of registrations) { registration.unregister(); }
        });
      }
    }
  </script>

</head>

<body>
  <div id="root"></div>

  <!-- Main App -->
  <script type="module" src="./index.js"></script>
</body>

</html>